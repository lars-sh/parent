<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../../jacoco-resources/report.gif" type="image/gif"/><title>SentenceFormatter.java</title><link rel="stylesheet" href="../../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../../index.html" class="el_report">Parent POM</a> &gt; <a href="../index.html" class="el_bundle">utils</a> &gt; <a href="index.source.html" class="el_package">de.larssh.utils.text</a> &gt; <span class="el_source">SentenceFormatter.java</span></div><h1>SentenceFormatter.java</h1><pre class="source lang-java linenums">// Generated by delombok at Mon Jul 25 06:22:29 UTC 2022
package de.larssh.utils.text;

import static java.util.Arrays.asList;
import static java.util.Collections.emptyList;
import java.util.ArrayList;
import java.util.List;
import java.util.function.Function;

/**
 * Class to format and parse a list of words.
 *
 * &lt;p&gt;
 * Constants define instances of common formatters. The following is an example
 * using the words {@code abc}, {@code def} and {@code ghi}.
 * &lt;table&gt;
 * &lt;caption&gt;Examples&lt;/caption&gt;
 * &lt;tr&gt;
 * &lt;th&gt;Formatter&lt;/th&gt;
 * &lt;th&gt;Example&lt;/th&gt;
 * &lt;/tr&gt;
 * &lt;tr&gt;
 * &lt;td&gt;{@link #LOWER_CAMEL_CASE}&lt;/td&gt;
 * &lt;td&gt;abcDefGhi&lt;/td&gt;
 * &lt;/tr&gt;
 * &lt;tr&gt;
 * &lt;td&gt;{@link #LOWER_KEBAB_CASE}&lt;/td&gt;
 * &lt;td&gt;abc-def-ghi&lt;/td&gt;
 * &lt;/tr&gt;
 * &lt;tr&gt;
 * &lt;td&gt;{@link #LOWER_SNAKE_CASE}&lt;/td&gt;
 * &lt;td&gt;abc_def_ghi&lt;/td&gt;
 * &lt;/tr&gt;
 * &lt;tr&gt;
 * &lt;td&gt;{@link #LOWER_WHITE_SPACE}&lt;/td&gt;
 * &lt;td&gt;Abc def ghi&lt;/td&gt;
 * &lt;/tr&gt;
 * &lt;tr&gt;
 * &lt;td&gt;{@link #UPPER_CAMEL_CASE}&lt;/td&gt;
 * &lt;td&gt;AbcDefGhi&lt;/td&gt;
 * &lt;/tr&gt;
 * &lt;tr&gt;
 * &lt;td&gt;{@link #UPPER_KEBAB_CASE}&lt;/td&gt;
 * &lt;td&gt;ABC-DEF-GHI&lt;/td&gt;
 * &lt;/tr&gt;
 * &lt;tr&gt;
 * &lt;td&gt;{@link #UPPER_SNAKE_CASE}&lt;/td&gt;
 * &lt;td&gt;ABC_DEF_GHI&lt;/td&gt;
 * &lt;/tr&gt;
 * &lt;tr&gt;
 * &lt;td&gt;{@link #UPPER_WHITE_SPACE}&lt;/td&gt;
 * &lt;td&gt;Abc Def Ghi&lt;/td&gt;
 * &lt;/tr&gt;
 * &lt;/table&gt;
 */
public class SentenceFormatter {
	/**
	 * Word separator for kebab space
	 */
	private static final String SEPARATOR_KEBAB_CASE = &quot;-&quot;;
	/**
	 * Word separator for snake space
	 */
	private static final String SEPARATOR_SNAKE_CASE = &quot;_&quot;;
	/**
	 * Word separator for white space
	 */
	private static final String SEPARATOR_WHITE_SPACE = &quot; &quot;;
	/**
	 * Lower Camel Case formatter
	 *
	 * &lt;p&gt;
	 * Example: abcDefGhi
	 *
	 * &lt;p&gt;
	 * Words are translated to title case, except the first words, which is
	 * translated to lower case.
	 */
<span class="nc" id="L79">	public static final SentenceFormatter LOWER_CAMEL_CASE = new SentenceFormatter(Strings::toLowerCaseNeutral, &quot;&quot;, Strings::toTitleCaseNeutral);</span>
	/**
	 * Lower Kebab Case formatter
	 *
	 * &lt;p&gt;
	 * Example: abc-def-ghi
	 *
	 * &lt;p&gt;
	 * Words are translated to lower case and are separated by minus character.
	 */
<span class="nc" id="L89">	public static final SentenceFormatter LOWER_KEBAB_CASE = new SentenceFormatter(Strings::toLowerCaseNeutral, SEPARATOR_KEBAB_CASE, Strings::toLowerCaseNeutral);</span>
	/**
	 * Lower Snake Case formatter
	 *
	 * &lt;p&gt;
	 * Example: abc_def_ghi
	 *
	 * &lt;p&gt;
	 * Words are translated to lower case and are separated by underscore character.
	 */
<span class="nc" id="L99">	public static final SentenceFormatter LOWER_SNAKE_CASE = new SentenceFormatter(Strings::toLowerCaseNeutral, SEPARATOR_SNAKE_CASE, Strings::toLowerCaseNeutral);</span>
	/**
	 * Lower White Space formatter
	 *
	 * &lt;p&gt;
	 * Example: Abc def ghi
	 *
	 * &lt;p&gt;
	 * Words are translated to lower case, except the first word, which is
	 * translated to title case, and are separated by white space character.
	 */
<span class="nc" id="L110">	public static final SentenceFormatter LOWER_WHITE_SPACE = new SentenceFormatter(Strings::toTitleCaseNeutral, SEPARATOR_WHITE_SPACE, Strings::toLowerCaseNeutral);</span>
	/**
	 * Upper Camel Case formatter
	 *
	 * &lt;p&gt;
	 * Example: AbcDefGhi
	 *
	 * &lt;p&gt;
	 * Words are translated to title case.
	 */
<span class="nc" id="L120">	public static final SentenceFormatter UPPER_CAMEL_CASE = new SentenceFormatter(Strings::toTitleCaseNeutral, &quot;&quot;, Strings::toTitleCaseNeutral);</span>
	/**
	 * Upper Kebab Case formatter
	 *
	 * &lt;p&gt;
	 * Example: ABC-DEF-GHI
	 *
	 * &lt;p&gt;
	 * Words are translated to upper case and are separated by minus character.
	 */
<span class="nc" id="L130">	public static final SentenceFormatter UPPER_KEBAB_CASE = new SentenceFormatter(Strings::toUpperCaseNeutral, SEPARATOR_KEBAB_CASE, Strings::toUpperCaseNeutral);</span>
	/**
	 * Upper Snake Case formatter
	 *
	 * &lt;p&gt;
	 * Example: ABC_DEF_GHI
	 *
	 * &lt;p&gt;
	 * Words are translated to upper case and are separated by underscore character.
	 */
<span class="nc" id="L140">	public static final SentenceFormatter UPPER_SNAKE_CASE = new SentenceFormatter(Strings::toUpperCaseNeutral, SEPARATOR_SNAKE_CASE, Strings::toUpperCaseNeutral);</span>
	/**
	 * Upper White Space formatter
	 *
	 * &lt;p&gt;
	 * Example: Abc Def Ghi
	 *
	 * &lt;p&gt;
	 * Words are translated to title case and are separated by white space
	 * character.
	 */
<span class="nc" id="L151">	public static final SentenceFormatter UPPER_WHITE_SPACE = new SentenceFormatter(Strings::toTitleCaseNeutral, SEPARATOR_WHITE_SPACE, Strings::toTitleCaseNeutral);</span>
	/**
	 * Function to convert the first word
	 */
	private final Function&lt;String, String&gt; convertFirstWord;
	/**
	 * Separator character between words
	 */
	private final String separator;
	/**
	 * Function to convert all words except the first word
	 */
	private final Function&lt;String, String&gt; convertSubsequentWords;

	/**
	 * Formats the list of given words using the specified converter functions and
	 * separator.
	 *
	 * @param words list of words
	 * @return formatted sentence
	 */
	public String format(final String... words) {
<span class="nc" id="L173">		return format(asList(words));</span>
	}

	/**
	 * Formats the list of given words using the specified converter functions and
	 * separator.
	 *
	 * @param words list of words
	 * @return formatted sentence
	 */
	public String format(final List&lt;String&gt; words) {
<span class="nc bnc" id="L184" title="All 2 branches missed.">		if (words.isEmpty()) {</span>
<span class="nc" id="L185">			return &quot;&quot;;</span>
		}
<span class="nc" id="L187">		final StringBuilder builder = new StringBuilder();</span>
<span class="nc" id="L188">		builder.append(getConvertFirstWord().apply(words.get(0)));</span>
<span class="nc" id="L189">		final int size = words.size();</span>
<span class="nc bnc" id="L190" title="All 2 branches missed.">		for (int index = 1; index &lt; size; index += 1) {</span>
<span class="nc" id="L191">			builder.append(getSeparator());</span>
<span class="nc" id="L192">			builder.append(getConvertSubsequentWords().apply(words.get(index)));</span>
		}
<span class="nc" id="L194">		return builder.toString();</span>
	}

	/**
	 * Splits the given sentence into words using the separator. If the separator
	 * string is empty, the sentence is splitted by title characters. A leading
	 * title character does not generate an empty leading word.
	 *
	 * @param sentence the sentence to be splitted
	 * @return list of splitted words
	 */
	public List&lt;String&gt; parse(final String sentence) {
<span class="nc bnc" id="L206" title="All 2 branches missed.">		if (sentence.isEmpty()) {</span>
<span class="nc" id="L207">			return emptyList();</span>
		}
<span class="nc bnc" id="L209" title="All 2 branches missed.">		if (getSeparator().isEmpty()) {</span>
<span class="nc" id="L210">			return splitByTitleCharacters(sentence);</span>
		}
<span class="nc" id="L212">		return splitBySeparator(sentence);</span>
	}

	/**
	 * Splits the given sentence into words using the separator string.
	 *
	 * @param sentence the sentence to be splitted
	 * @return list of splitted words
	 */
	private List&lt;String&gt; splitBySeparator(final String sentence) {
<span class="nc" id="L222">		final int sentenceLength = sentence.length();</span>
<span class="nc" id="L223">		final int separatorLength = getSeparator().length();</span>
<span class="nc" id="L224">		final int length = sentenceLength - separatorLength;</span>
<span class="nc" id="L225">		int beginIndex = 0;</span>
<span class="nc" id="L226">		final List&lt;String&gt; words = new ArrayList&lt;&gt;();</span>
<span class="nc bnc" id="L227" title="All 2 branches missed.">		for (int index = 0; index &lt; length; index += 1) {</span>
<span class="nc bnc" id="L228" title="All 2 branches missed.">			if (sentence.regionMatches(index, getSeparator(), 0, separatorLength)) {</span>
<span class="nc" id="L229">				words.add(sentence.substring(beginIndex, index));</span>
<span class="nc" id="L230">				beginIndex = index + separatorLength;</span>
			}
		}
<span class="nc" id="L233">		words.add(sentence.substring(beginIndex, sentenceLength));</span>
<span class="nc" id="L234">		return words;</span>
	}

	/**
	 * Splits the given sentence into words by title characters. A leading title
	 * character does not generate an empty leading word.
	 *
	 * @param sentence the sentence to be splitted
	 * @return list of splitted words
	 */
	private List&lt;String&gt; splitByTitleCharacters(final String sentence) {
<span class="nc" id="L245">		final int length = sentence.length();</span>
<span class="nc" id="L246">		int beginIndex = 0;</span>
<span class="nc" id="L247">		final List&lt;String&gt; words = new ArrayList&lt;&gt;();</span>
<span class="nc bnc" id="L248" title="All 2 branches missed.">		for (int index = 1; index &lt; length; index += 1) {</span>
<span class="nc bnc" id="L249" title="All 2 branches missed.">			if (Character.isUpperCase(sentence.charAt(index))) {</span>
<span class="nc" id="L250">				words.add(sentence.substring(beginIndex, index));</span>
<span class="nc" id="L251">				beginIndex = index;</span>
			}
		}
<span class="nc" id="L254">		words.add(sentence.substring(beginIndex, length));</span>
<span class="nc" id="L255">		return words;</span>
	}

	/**
	 * Function to convert the first word
	 *
	 * @return convert function for the first word of a sentence
	 */
	@java.lang.SuppressWarnings(&quot;all&quot;)
	@edu.umd.cs.findbugs.annotations.SuppressFBWarnings(justification = &quot;generated code&quot;)
	@lombok.Generated
	public Function&lt;String, String&gt; getConvertFirstWord() {
		return this.convertFirstWord;
	}

	/**
	 * Separator character between words
	 *
	 * @return separator
	 */
	@java.lang.SuppressWarnings(&quot;all&quot;)
	@edu.umd.cs.findbugs.annotations.SuppressFBWarnings(justification = &quot;generated code&quot;)
	@lombok.Generated
	public String getSeparator() {
		return this.separator;
	}

	/**
	 * Function to convert all words except the first word
	 *
	 * @return convert function for subsequent words
	 */
	@java.lang.SuppressWarnings(&quot;all&quot;)
	@edu.umd.cs.findbugs.annotations.SuppressFBWarnings(justification = &quot;generated code&quot;)
	@lombok.Generated
	public Function&lt;String, String&gt; getConvertSubsequentWords() {
		return this.convertSubsequentWords;
	}

	@java.lang.SuppressWarnings(&quot;all&quot;)
	@edu.umd.cs.findbugs.annotations.SuppressFBWarnings(justification = &quot;generated code&quot;)
	@lombok.Generated
	public SentenceFormatter(final Function&lt;String, String&gt; convertFirstWord, final String separator, final Function&lt;String, String&gt; convertSubsequentWords) {
		this.convertFirstWord = convertFirstWord;
		this.separator = separator;
		this.convertSubsequentWords = convertSubsequentWords;
	}
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.8.202204050719</span></div></body></html>