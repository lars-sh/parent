<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang=""><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../../jacoco-resources/report.gif" type="image/gif"/><title>TransformerOutputProperty.java</title><link rel="stylesheet" href="../../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../../index.html" class="el_report">Parent POM</a> &gt; <a href="../index.html" class="el_bundle">utils</a> &gt; <a href="index.source.html" class="el_package">de.larssh.utils.xml</a> &gt; <span class="el_source">TransformerOutputProperty.java</span></div><h1>TransformerOutputProperty.java</h1><pre class="source lang-java linenums">// Generated by delombok at Mon Sep 22 08:07:04 UTC 2025
package de.larssh.utils.xml;

import static java.util.function.Function.identity;
import java.util.function.Function;
import javax.xml.transform.Transformer;

/**
 * Allows reading and writing output properties of {@link Transformer} in a
 * typed way.
 *
 * @param &lt;T&gt; the output property type
 */
public class TransformerOutputProperty&lt;T&gt; {
	/**
	 * Boolean output property value representing {@code false}
	 */
	private static final String BOOLEAN_VALUE_FALSE = &quot;no&quot;;
	/**
	 * Boolean output property value representing {@code true}
	 */
	private static final String BOOLEAN_VALUE_TRUE = &quot;yes&quot;;

	/**
	 * Creates a boolean {@link TransformerOutputProperty}.
	 *
	 * &lt;p&gt;
	 * Value {@code yes} means {@code true} and value {@code no} means
	 * {@code false}.
	 *
	 * @param name the output property name
	 * @return the {@link TransformerOutputProperty}
	 */
	public static TransformerOutputProperty&lt;Boolean&gt; booleanOutputProperty(final String name) {
<span class="nc" id="L35">		return new TransformerOutputProperty&lt;&gt;(name,  //</span>
<span class="nc bnc" id="L36" title="All 2 branches missed.">		value -&gt; value ? BOOLEAN_VALUE_TRUE : BOOLEAN_VALUE_FALSE, BOOLEAN_VALUE_TRUE::equalsIgnoreCase);</span>
	}

	/**
	 * Creates a class {@link TransformerOutputProperty}.
	 *
	 * @param name the output property name
	 * @return the {@link TransformerOutputProperty}
	 */
	public static TransformerOutputProperty&lt;Class&lt;?&gt;&gt; classOutputProperty(final String name) {
<span class="nc" id="L46">		return new TransformerOutputProperty&lt;&gt;(name, Class::getName, value -&gt; {</span>
			try {
<span class="nc" id="L48">				return Class.forName(value);</span>
<span class="nc" id="L49">			} catch (final ClassNotFoundException e) {</span>
<span class="nc" id="L50">				throw new IllegalArgumentException(e);</span>
			}
		});
	}

	/**
	 * Creates an integer {@link TransformerOutputProperty}.
	 *
	 * @param name the output property name
	 * @return the {@link TransformerOutputProperty}
	 */
	public static TransformerOutputProperty&lt;Integer&gt; integerOutputProperty(final String name) {
<span class="nc" id="L62">		return new TransformerOutputProperty&lt;&gt;(name,  //</span>
<span class="nc" id="L63">		value -&gt; Integer.toString(value), Integer::parseInt);</span>
	}

	/**
	 * Creates a string {@link TransformerOutputProperty}.
	 *
	 * @param name the output property name
	 * @return the {@link TransformerOutputProperty}
	 */
	public static TransformerOutputProperty&lt;String&gt; stringOutputProperty(final String name) {
<span class="nc" id="L73">		return new TransformerOutputProperty&lt;&gt;(name,  //</span>
<span class="nc" id="L74">		identity(), identity());</span>
	}

	/**
	 * Output Property Name
	 */
	private final String name;
	/**
	 * Output Property Serializer
	 */
	private final Function&lt;T, String&gt; serializer;
	/**
	 * Output Property Deserializer
	 */
	private final Function&lt;String, T&gt; deserializer;

	/**
	 * Get an output property that is in effect for the transformer.
	 *
	 * &lt;p&gt;
	 * If a property has been set using
	 * {@link Transformer#setOutputProperty(String, String)}, that value will be
	 * returned. Otherwise, if a property is explicitly specified in the stylesheet,
	 * that value will be returned. If the value of the property has been defaulted,
	 * that is, if no value has been set explicitly either with
	 * {@link Transformer#setOutputProperty(String, String)} or in the stylesheet,
	 * the result may vary depending on implementation and input stylesheet.
	 *
	 * @param transformer the transformer
	 * @return the string value of the output property, or {@code null} if no
	 *         property was found
	 * @throws IllegalArgumentException if the property is not supported
	 * @see TransformerOutputProperties
	 */
	public T get(final Transformer transformer) {
<span class="nc" id="L109">		return getDeserializer().apply(transformer.getOutputProperty(getName()));</span>
	}

	/**
	 * Set an output property that will be in effect for the transformation.
	 *
	 * &lt;p&gt;
	 * Pass a qualified property name as a two-part string, the namespace URI
	 * enclosed in curly braces ({@code {}}), followed by the local name. If the
	 * name has a {@code null} URL, the String only contain the local name. An
	 * application can safely check for a non-{@code null} URI by testing to see if
	 * the first character of the name is a '{' character.
	 *
	 * &lt;p&gt;
	 * For example, if a URI and local name were obtained from an element defined
	 * with {@code &amp;lt;xyz:foo xmlns:xyz=&quot;http://xyz.foo.com/yada/baz.html&quot;/&amp;gt;},
	 * then the qualified name would be &quot;{http://xyz.foo.com/yada/baz.html}foo&quot;.
	 * Note that no prefix is used.
	 *
	 * &lt;p&gt;
	 * The Properties object that was passed to
	 * {@link Transformer#setOutputProperties(java.util.Properties)} won't be
	 * effected by calling this method.
	 *
	 * @param transformer the transformer
	 * @param value       The non-null string value of the output property.
	 * @throws IllegalArgumentException if the property is not supported, and is not
	 *                                  qualified with a namespace
	 * @see TransformerOutputProperties
	 */
	public void set(final Transformer transformer, final T value) {
<span class="nc" id="L140">		transformer.setOutputProperty(getName(), getSerializer().apply(value));</span>
<span class="nc" id="L141">	}</span>

	/**
	 * Output Property Name
	 *
	 * @return the output property name
	 */
	@java.lang.SuppressWarnings(&quot;all&quot;)
	@edu.umd.cs.findbugs.annotations.SuppressFBWarnings(justification = &quot;generated code&quot;)
	@lombok.Generated
	public String getName() {
		return this.name;
	}

	/**
	 * Creates a new {@code TransformerOutputProperty} instance.
	 *
	 * @param name Output Property Name
	 * @param serializer Output Property Serializer
	 * @param deserializer Output Property Deserializer
	 */
	@java.lang.SuppressWarnings(&quot;all&quot;)
	@edu.umd.cs.findbugs.annotations.SuppressFBWarnings(justification = &quot;generated code&quot;)
	@lombok.Generated
	public TransformerOutputProperty(final String name, final Function&lt;T, String&gt; serializer, final Function&lt;String, T&gt; deserializer) {
		this.name = name;
		this.serializer = serializer;
		this.deserializer = deserializer;
	}

	/**
	 * Output Property Serializer
	 *
	 * @return the output property serializer
	 */
	@java.lang.SuppressWarnings(&quot;all&quot;)
	@edu.umd.cs.findbugs.annotations.SuppressFBWarnings(justification = &quot;generated code&quot;)
	@lombok.Generated
	protected Function&lt;T, String&gt; getSerializer() {
		return this.serializer;
	}

	/**
	 * Output Property Deserializer
	 *
	 * @return the output property deserializer
	 */
	@java.lang.SuppressWarnings(&quot;all&quot;)
	@edu.umd.cs.findbugs.annotations.SuppressFBWarnings(justification = &quot;generated code&quot;)
	@lombok.Generated
	protected Function&lt;String, T&gt; getDeserializer() {
		return this.deserializer;
	}
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.13.202504020838</span></div></body></html>