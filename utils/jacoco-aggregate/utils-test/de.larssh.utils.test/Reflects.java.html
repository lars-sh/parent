<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../../jacoco-resources/report.gif" type="image/gif"/><title>Reflects.java</title><link rel="stylesheet" href="../../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../../index.html" class="el_report">Utilities</a> &gt; <a href="../index.html" class="el_bundle">utils-test</a> &gt; <a href="index.source.html" class="el_package">de.larssh.utils.test</a> &gt; <span class="el_source">Reflects.java</span></div><h1>Reflects.java</h1><pre class="source lang-java linenums">// Generated by delombok at Wed Sep 02 07:30:01 UTC 2020
package de.larssh.utils.test;

import java.lang.reflect.InvocationTargetException;
import java.util.function.Supplier;
import org.joor.Reflect;
import org.joor.ReflectException;
import edu.umd.cs.findbugs.annotations.SuppressFBWarnings;

/**
 * This class contains helper methods for {@link Reflect}.
 */
public final class Reflects {
	/**
	 * Calls {@link Reflect#create(Object...)} to call a constructor.
	 *
	 * &lt;p&gt;
	 * This is roughly equivalent to {@link Reflect#create(Object...)} except that
	 * any exception thrown within the called constructor is not encapsulated into
	 * {@link ReflectException} and {@link InvocationTargetException}.
	 *
	 * @param reflect   the reflection object
	 * @param arguments the constructor arguments
	 * @return the wrapped new object to be used for further reflection
	 * @throws ReflectException any reflection exception
	 */
	public static Reflect create(final Reflect reflect, final Object... arguments) {
<span class="nc" id="L28">		return extractInvocationTargetExceptions(() -&gt; reflect.create(arguments));</span>
	}

	/**
	 * Calls {@link Reflect#call(String, Object...)} to call a method by its name.
	 *
	 * &lt;p&gt;
	 * This is roughly equivalent to {@link Reflect#call(String, Object...)} except
	 * that any exception thrown within the called method is not encapsulated into
	 * {@link ReflectException} and {@link InvocationTargetException}.
	 *
	 * @param reflect   the reflection object
	 * @param name      the method name
	 * @param arguments the method arguments
	 * @return the wrapped method result or the same wrapped object if the method
	 *         returns &lt;code&gt;void&lt;/code&gt; to be used for further reflection
	 * @throws ReflectException any reflection exception
	 */
	public static Reflect call(final Reflect reflect, final String name, final Object... arguments) {
<span class="nc" id="L47">		return extractInvocationTargetExceptions(() -&gt; reflect.call(name, arguments));</span>
	}

	/**
	 * Calls {@code supplier} and forwards its return value. Makes sure any thrown
	 * within the supplier is not encapsulated exception inside a
	 * {@link InvocationTargetException} or {@link ReflectException}.
	 *
	 * @param &lt;T&gt;      type of the return value
	 * @param supplier functionality to execute
	 * @return any value returned by {@code supplier}
	 * @throws ReflectException any reflection exception
	 * @throws SneakyException  invocation target exceptions
	 */
	@SuppressWarnings({&quot;checkstyle:IllegalCatch&quot;, &quot;PMD.AvoidCatchingGenericException&quot;, &quot;PMD.AvoidInstanceofChecksInCatchClause&quot;, &quot;PMD.PreserveStackTrace&quot;})
	@SuppressFBWarnings(value = {&quot;BC_IMPOSSIBLE_INSTANCEOF&quot;, &quot;EXS_EXCEPTION_SOFTENING_NO_CONSTRAINTS&quot;}, justification = &quot;supplier might sneaky throw InvocationTargetException&quot;)
	private static &lt;T&gt; T extractInvocationTargetExceptions(final Supplier&lt;T&gt; supplier) {
		try {
<span class="nc" id="L65">			return supplier.get();</span>
<span class="nc" id="L66">		} catch (final ReflectException e) {</span>
<span class="nc bnc" id="L67" title="All 2 branches missed.">			if (e.getCause() instanceof InvocationTargetException) {</span>
<span class="nc" id="L68">				throw new SneakyException(e.getCause().getCause());</span>
			}
<span class="nc" id="L70">			throw e;</span>
<span class="nc" id="L71">		} catch (final Exception e) {</span>
<span class="nc bnc" id="L72" title="All 2 branches missed.">			if (e instanceof InvocationTargetException) {</span>
<span class="nc" id="L73">				throw new SneakyException(e.getCause());</span>
			}
<span class="nc" id="L75">			throw e;</span>
		}
	}

	@java.lang.SuppressWarnings(&quot;all&quot;)
	@edu.umd.cs.findbugs.annotations.SuppressFBWarnings(justification = &quot;generated code&quot;)
	@lombok.Generated
	private Reflects() {
		throw new java.lang.UnsupportedOperationException(&quot;This is a utility class and cannot be instantiated&quot;);
	}
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.5.201910111838</span></div></body></html>